{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.AdminResourcesGuesser = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactAdmin = require(\"react-admin\");\n\nvar _history = require(\"history\");\n\nvar _core = require(\"@material-ui/core\");\n\nvar _ErrorBoundary = _interopRequireDefault(require(\"./ErrorBoundary\"));\n\nvar _IntrospectionContext = _interopRequireDefault(require(\"./IntrospectionContext\"));\n\nvar _ResourceGuesser = _interopRequireDefault(require(\"./ResourceGuesser\"));\n\nvar _SchemaAnalyzerContext = _interopRequireDefault(require(\"./SchemaAnalyzerContext\"));\n\nvar _layout = require(\"./layout\");\n\nvar _introspectReducer = _interopRequireDefault(require(\"./introspectReducer\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function (nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nconst displayOverrideCode = resources => {\n  if (process.env.NODE_ENV === 'production') return;\n  let code = 'If you want to override at least one resource, paste this content in the <AdminGuesser> component of your app:\\n\\n';\n  resources.forEach(r => {\n    code += `<ResourceGuesser name={\"${r.name}\"} />\\n`;\n  });\n  console.info(code);\n};\n/**\n * AdminResourcesGuesser automatically renders an `<AdminUI>` component for resources exposed by a web API documented with Hydra, OpenAPI or any other format supported by `@api-platform/api-doc-parser`.\n * If child components are passed (usually `<ResourceGuesser>` or `<Resource>` components, but it can be any other React component), they are rendered in the given order.\n * If no children are passed, a `<ResourceGuesser>` component is created for each resource type exposed by the API, in the order they are specified in the API documentation.\n */\n\n\nconst AdminResourcesGuesser = _ref => {\n  let {\n    // Admin props\n    customReducers = {},\n    loadingPage: LoadingPage = _reactAdmin.Loading,\n    // Props\n    children,\n    includeDeprecated,\n    resources,\n    loading,\n    ...rest\n  } = _ref;\n\n  if (loading) {\n    return /*#__PURE__*/_react.default.createElement(LoadingPage, null);\n  }\n\n  let resourceChildren = children;\n\n  if (!resourceChildren && resources) {\n    const guessResources = includeDeprecated ? resources : resources.filter(r => !r.deprecated);\n    resourceChildren = guessResources.map(r => /*#__PURE__*/_react.default.createElement(_ResourceGuesser.default, {\n      name: r.name,\n      key: r.name\n    }));\n    displayOverrideCode(guessResources);\n  }\n\n  return /*#__PURE__*/_react.default.createElement(_reactAdmin.Admin, _extends({\n    customReducers: {\n      introspect: _introspectReducer.default,\n      ...customReducers\n    },\n    loading: LoadingPage\n  }, rest), resourceChildren);\n};\n\nexports.AdminResourcesGuesser = AdminResourcesGuesser;\nconst defaultTheme = (0, _core.createMuiTheme)({\n  palette: {\n    primary: {\n      contrastText: '#ffffff',\n      main: '#38a9b4'\n    },\n    secondary: {\n      main: '#288690'\n    }\n  }\n});\n\nconst AdminGuesser = _ref2 => {\n  let {\n    // Props for SchemaAnalyzerContext\n    schemaAnalyzer,\n    // Props for AdminResourcesGuesser\n    includeDeprecated = false,\n    // Admin props\n    dataProvider,\n    history,\n    customRoutes = [],\n    layout = _layout.Layout,\n    loading: loadingPage,\n    theme = defaultTheme,\n    // Other props\n    children,\n    ...rest\n  } = _ref2;\n  const [resources, setResources] = (0, _react.useState)();\n  const [loading, setLoading] = (0, _react.useState)(true);\n  const [, setError] = (0, _react.useState)();\n  const [addedCustomRoutes, setAddedCustomRoutes] = (0, _react.useState)([]);\n  const [introspect, setIntrospect] = (0, _react.useState)(true);\n\n  if (!history) {\n    history = typeof window === 'undefined' ? {} : (0, _history.createHashHistory)();\n  }\n\n  (0, _react.useEffect)(() => {\n    if (typeof dataProvider.introspect !== 'function') {\n      throw new Error('The given dataProvider needs to expose an \"introspect\" function returning a parsed API documentation from api-doc-parser');\n    }\n\n    if (!introspect) {\n      return;\n    }\n\n    dataProvider.introspect().then(_ref3 => {\n      let {\n        data,\n        customRoutes = []\n      } = _ref3;\n      setResources(data.resources);\n      setAddedCustomRoutes(customRoutes);\n      setIntrospect(false);\n      setLoading(false);\n    }).catch(error => {\n      // Allow error to be caught by the error boundary\n      setError(() => {\n        throw error;\n      });\n    });\n  }, [introspect, dataProvider]);\n  return /*#__PURE__*/_react.default.createElement(_IntrospectionContext.default.Provider, {\n    value: {\n      introspect: () => {\n        setLoading(true);\n        setIntrospect(true);\n      }\n    }\n  }, /*#__PURE__*/_react.default.createElement(_SchemaAnalyzerContext.default.Provider, {\n    value: schemaAnalyzer\n  }, /*#__PURE__*/_react.default.createElement(AdminResourcesGuesser, _extends({\n    includeDeprecated: includeDeprecated,\n    resources: resources,\n    loading: loading,\n    dataProvider: dataProvider,\n    history: history,\n    customRoutes: [...addedCustomRoutes, ...customRoutes],\n    layout: layout,\n    loadingPage: loadingPage,\n    theme: theme\n  }, rest), children)));\n};\n\nAdminGuesser.propTypes = {\n  dataProvider: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.func]).isRequired,\n  authProvider: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.func]),\n  i18nProvider: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.func]),\n  history: _propTypes.default.object,\n  customReducers: _propTypes.default.object,\n  customSagas: _propTypes.default.array,\n  initialState: _propTypes.default.object,\n  schemaAnalyzer: _propTypes.default.object.isRequired,\n  children: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.func]),\n  theme: _propTypes.default.object,\n  includeDeprecated: _propTypes.default.bool,\n  customRoutes: _propTypes.default.array\n};\n\nconst AdminGuesserWithError = _ref4 => {\n  let {\n    error,\n    ...props\n  } = _ref4;\n  return /*#__PURE__*/_react.default.createElement(_reactAdmin.TranslationProvider, {\n    i18nProvider: props.i18nProvider\n  }, /*#__PURE__*/_react.default.createElement(_ErrorBoundary.default, {\n    error: error\n  }, /*#__PURE__*/_react.default.createElement(AdminGuesser, props)));\n};\n\nAdminGuesserWithError.defaultProps = {\n  error: _reactAdmin.Error,\n  i18nProvider: _reactAdmin.defaultI18nProvider\n};\nAdminGuesserWithError.propTypes = {\n  error: _reactAdmin.ComponentPropType\n};\nvar _default = AdminGuesserWithError;\nexports.default = _default;","map":{"version":3,"sources":["C:/newproject/bookshop-api/myadmin/node_modules/@api-platform/admin/lib/AdminGuesser.js"],"names":["Object","defineProperty","exports","value","default","AdminResourcesGuesser","_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_reactAdmin","_history","_core","_ErrorBoundary","_IntrospectionContext","_ResourceGuesser","_SchemaAnalyzerContext","_layout","_introspectReducer","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_extends","assign","target","i","arguments","length","source","apply","displayOverrideCode","resources","process","env","NODE_ENV","code","forEach","r","name","console","info","customReducers","loadingPage","LoadingPage","Loading","children","includeDeprecated","loading","rest","createElement","resourceChildren","guessResources","filter","deprecated","map","Admin","introspect","defaultTheme","createMuiTheme","palette","primary","contrastText","main","secondary","AdminGuesser","schemaAnalyzer","dataProvider","history","customRoutes","layout","Layout","theme","setResources","useState","setLoading","setError","addedCustomRoutes","setAddedCustomRoutes","setIntrospect","window","createHashHistory","useEffect","Error","then","data","catch","error","Provider","propTypes","oneOfType","object","func","isRequired","authProvider","i18nProvider","customSagas","array","initialState","node","bool","AdminGuesserWithError","props","TranslationProvider","defaultProps","defaultI18nProvider","ComponentPropType","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.AdminResourcesGuesser = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactAdmin = require(\"react-admin\");\n\nvar _history = require(\"history\");\n\nvar _core = require(\"@material-ui/core\");\n\nvar _ErrorBoundary = _interopRequireDefault(require(\"./ErrorBoundary\"));\n\nvar _IntrospectionContext = _interopRequireDefault(require(\"./IntrospectionContext\"));\n\nvar _ResourceGuesser = _interopRequireDefault(require(\"./ResourceGuesser\"));\n\nvar _SchemaAnalyzerContext = _interopRequireDefault(require(\"./SchemaAnalyzerContext\"));\n\nvar _layout = require(\"./layout\");\n\nvar _introspectReducer = _interopRequireDefault(require(\"./introspectReducer\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nconst displayOverrideCode = resources => {\n  if (process.env.NODE_ENV === 'production') return;\n  let code = 'If you want to override at least one resource, paste this content in the <AdminGuesser> component of your app:\\n\\n';\n  resources.forEach(r => {\n    code += `<ResourceGuesser name={\"${r.name}\"} />\\n`;\n  });\n  console.info(code);\n};\n/**\n * AdminResourcesGuesser automatically renders an `<AdminUI>` component for resources exposed by a web API documented with Hydra, OpenAPI or any other format supported by `@api-platform/api-doc-parser`.\n * If child components are passed (usually `<ResourceGuesser>` or `<Resource>` components, but it can be any other React component), they are rendered in the given order.\n * If no children are passed, a `<ResourceGuesser>` component is created for each resource type exposed by the API, in the order they are specified in the API documentation.\n */\n\n\nconst AdminResourcesGuesser = ({\n  // Admin props\n  customReducers = {},\n  loadingPage: LoadingPage = _reactAdmin.Loading,\n  // Props\n  children,\n  includeDeprecated,\n  resources,\n  loading,\n  ...rest\n}) => {\n  if (loading) {\n    return /*#__PURE__*/_react.default.createElement(LoadingPage, null);\n  }\n\n  let resourceChildren = children;\n\n  if (!resourceChildren && resources) {\n    const guessResources = includeDeprecated ? resources : resources.filter(r => !r.deprecated);\n    resourceChildren = guessResources.map(r => /*#__PURE__*/_react.default.createElement(_ResourceGuesser.default, {\n      name: r.name,\n      key: r.name\n    }));\n    displayOverrideCode(guessResources);\n  }\n\n  return /*#__PURE__*/_react.default.createElement(_reactAdmin.Admin, _extends({\n    customReducers: {\n      introspect: _introspectReducer.default,\n      ...customReducers\n    },\n    loading: LoadingPage\n  }, rest), resourceChildren);\n};\n\nexports.AdminResourcesGuesser = AdminResourcesGuesser;\nconst defaultTheme = (0, _core.createMuiTheme)({\n  palette: {\n    primary: {\n      contrastText: '#ffffff',\n      main: '#38a9b4'\n    },\n    secondary: {\n      main: '#288690'\n    }\n  }\n});\n\nconst AdminGuesser = ({\n  // Props for SchemaAnalyzerContext\n  schemaAnalyzer,\n  // Props for AdminResourcesGuesser\n  includeDeprecated = false,\n  // Admin props\n  dataProvider,\n  history,\n  customRoutes = [],\n  layout = _layout.Layout,\n  loading: loadingPage,\n  theme = defaultTheme,\n  // Other props\n  children,\n  ...rest\n}) => {\n  const [resources, setResources] = (0, _react.useState)();\n  const [loading, setLoading] = (0, _react.useState)(true);\n  const [, setError] = (0, _react.useState)();\n  const [addedCustomRoutes, setAddedCustomRoutes] = (0, _react.useState)([]);\n  const [introspect, setIntrospect] = (0, _react.useState)(true);\n\n  if (!history) {\n    history = typeof window === 'undefined' ? {} : (0, _history.createHashHistory)();\n  }\n\n  (0, _react.useEffect)(() => {\n    if (typeof dataProvider.introspect !== 'function') {\n      throw new Error('The given dataProvider needs to expose an \"introspect\" function returning a parsed API documentation from api-doc-parser');\n    }\n\n    if (!introspect) {\n      return;\n    }\n\n    dataProvider.introspect().then(({\n      data,\n      customRoutes = []\n    }) => {\n      setResources(data.resources);\n      setAddedCustomRoutes(customRoutes);\n      setIntrospect(false);\n      setLoading(false);\n    }).catch(error => {\n      // Allow error to be caught by the error boundary\n      setError(() => {\n        throw error;\n      });\n    });\n  }, [introspect, dataProvider]);\n  return /*#__PURE__*/_react.default.createElement(_IntrospectionContext.default.Provider, {\n    value: {\n      introspect: () => {\n        setLoading(true);\n        setIntrospect(true);\n      }\n    }\n  }, /*#__PURE__*/_react.default.createElement(_SchemaAnalyzerContext.default.Provider, {\n    value: schemaAnalyzer\n  }, /*#__PURE__*/_react.default.createElement(AdminResourcesGuesser, _extends({\n    includeDeprecated: includeDeprecated,\n    resources: resources,\n    loading: loading,\n    dataProvider: dataProvider,\n    history: history,\n    customRoutes: [...addedCustomRoutes, ...customRoutes],\n    layout: layout,\n    loadingPage: loadingPage,\n    theme: theme\n  }, rest), children)));\n};\n\nAdminGuesser.propTypes = {\n  dataProvider: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.func]).isRequired,\n  authProvider: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.func]),\n  i18nProvider: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.func]),\n  history: _propTypes.default.object,\n  customReducers: _propTypes.default.object,\n  customSagas: _propTypes.default.array,\n  initialState: _propTypes.default.object,\n  schemaAnalyzer: _propTypes.default.object.isRequired,\n  children: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.func]),\n  theme: _propTypes.default.object,\n  includeDeprecated: _propTypes.default.bool,\n  customRoutes: _propTypes.default.array\n};\n\nconst AdminGuesserWithError = ({\n  error,\n  ...props\n}) => /*#__PURE__*/_react.default.createElement(_reactAdmin.TranslationProvider, {\n  i18nProvider: props.i18nProvider\n}, /*#__PURE__*/_react.default.createElement(_ErrorBoundary.default, {\n  error: error\n}, /*#__PURE__*/_react.default.createElement(AdminGuesser, props)));\n\nAdminGuesserWithError.defaultProps = {\n  error: _reactAdmin.Error,\n  i18nProvider: _reactAdmin.defaultI18nProvider\n};\nAdminGuesserWithError.propTypes = {\n  error: _reactAdmin.ComponentPropType\n};\nvar _default = AdminGuesserWithError;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}