{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar Api_1 = require(\"../Api\");\n\nvar handleJson_1 = tslib_1.__importStar(require(\"./handleJson\"));\n\nfunction parseOpenApi3Documentation(entrypointUrl) {\n  entrypointUrl = handleJson_1.removeTrailingSlash(entrypointUrl);\n  return fetch(entrypointUrl).then(function (res) {\n    return Promise.all([res, res.json()]);\n  }).then(function (_a) {\n    var res = _a[0],\n        response = _a[1];\n    var title = response.info.title;\n    var resources = handleJson_1.default(response, entrypointUrl);\n    return Promise.resolve({\n      api: new Api_1.Api(entrypointUrl, {\n        title: title,\n        resources: resources\n      }),\n      response: response,\n      status: res.status\n    });\n  }, function (_a) {\n    var res = _a[0],\n        response = _a[1];\n    return Promise.reject({\n      api: new Api_1.Api(entrypointUrl, {\n        resources: []\n      }),\n      response: response,\n      status: res.status\n    });\n  });\n}\n\nexports.default = parseOpenApi3Documentation;","map":{"version":3,"sources":["../../src/openapi3/parseOpenApi3Documentation.ts"],"names":[],"mappings":";;;;;;;;AACA,IAAA,KAAA,GAAA,OAAA,CAAA,QAAA,CAAA;;AACA,IAAA,YAAA,GAAA,OAAA,CAAA,YAAA,CAAA,OAAA,CAAA,cAAA,CAAA,CAAA;;AAQA,SAAwB,0BAAxB,CACE,aADF,EACuB;AAErB,EAAA,aAAa,GAAG,YAAA,CAAA,mBAAA,CAAoB,aAApB,CAAhB;AACA,SAAO,KAAK,CAAC,aAAD,CAAL,CACJ,IADI,CACC,UAAC,GAAD,EAAI;AAAK,WAAA,OAAO,CAAC,GAAR,CAAY,CAAC,GAAD,EAAM,GAAG,CAArB,IAAkB,EAAN,CAAZ,CAAA;AAA8B,GADxC,EAEJ,IAFI,CAGH,UAAC,EAAD,EAA+D;QAA7D,GAAG,GAAA,EAAA,CAAA,CAAA,C;QAAE,QAAQ,GAAA,EAAA,CAAA,CAAA,C;AACb,QAAM,KAAK,GAAG,QAAQ,CAAC,IAAT,CAAc,KAA5B;AACA,QAAM,SAAS,GAAG,YAAA,CAAA,OAAA,CAAW,QAAX,EAAqB,aAArB,CAAlB;AAEA,WAAO,OAAO,CAAC,OAAR,CAAgB;AACrB,MAAA,GAAG,EAAE,IAAI,KAAA,CAAA,GAAJ,CAAQ,aAAR,EAAuB;AAAE,QAAA,KAAK,EAAA,KAAP;AAAS,QAAA,SAAS,EAAA;AAAlB,OAAvB,CADgB;AAErB,MAAA,QAAQ,EAAA,QAFa;AAGrB,MAAA,MAAM,EAAE,GAAG,CAAC;AAHS,KAAhB,CAAP;AAKD,GAZE,EAaH,UAAC,EAAD,EAA+D;QAA7D,GAAG,GAAA,EAAA,CAAA,CAAA,C;QAAE,QAAQ,GAAA,EAAA,CAAA,CAAA,C;AACb,WAAA,OAAO,CAAC,MAAR,CAAe;AACb,MAAA,GAAG,EAAE,IAAI,KAAA,CAAA,GAAJ,CAAQ,aAAR,EAAuB;AAAE,QAAA,SAAS,EAAE;AAAb,OAAvB,CADQ;AAEb,MAAA,QAAQ,EAAA,QAFK;AAGb,MAAA,MAAM,EAAE,GAAG,CAAC;AAHC,KAAf,CAAA;AAIE,GAlBD,CAAP;AAoBD;;AAxBD,OAAA,CAAA,OAAA,GAAA,0BAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar Api_1 = require(\"../Api\");\nvar handleJson_1 = tslib_1.__importStar(require(\"./handleJson\"));\nfunction parseOpenApi3Documentation(entrypointUrl) {\n    entrypointUrl = handleJson_1.removeTrailingSlash(entrypointUrl);\n    return fetch(entrypointUrl)\n        .then(function (res) { return Promise.all([res, res.json()]); })\n        .then(function (_a) {\n        var res = _a[0], response = _a[1];\n        var title = response.info.title;\n        var resources = handleJson_1.default(response, entrypointUrl);\n        return Promise.resolve({\n            api: new Api_1.Api(entrypointUrl, { title: title, resources: resources }),\n            response: response,\n            status: res.status,\n        });\n    }, function (_a) {\n        var res = _a[0], response = _a[1];\n        return Promise.reject({\n            api: new Api_1.Api(entrypointUrl, { resources: [] }),\n            response: response,\n            status: res.status,\n        });\n    });\n}\nexports.default = parseOpenApi3Documentation;\n//# sourceMappingURL=parseOpenApi3Documentation.js.map"]},"metadata":{},"sourceType":"script"}